{{define "stylesheets"}}
<link rel="stylesheet" href="//cdn.rawgit.com/sparksuite/simplemde-markdown-editor/1.11.2/dist/simplemde.min.css">
{{end}}
{{define "content"}}
<section class="container">
  <div class="columns">
    <div class="column">
      <form action="/save{{if .ID}}/{{.ID}}{{end}}" method="POST">
        <div class="form-group">
          <input type="hidden" name="id" value="{{.ID}}" />
          <input type="text" class="form-input" name="title" value="{{.Title}}" placeholder="Title"/>
          <textarea class="form-input" id="input-body" name="body" placeholder="Content" cols="80" rows="24">{{printf "%s" .Body}}</textarea>
        </div>
        <div class="form-group">
          <div class="form-autocomplete">
            <div class="form-autocomplete-input form-input">
              <!--
              <label class="chip">
                Personal
                <button class="btn btn-clear"></button>
              </label>
              -->
              <input class="form-input" type="text" placeholder="Tag" id="input-tags" name="tags">
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary" type="submit">Save</button>
          <a class="btn btn-link" href="/">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</section>
{{end}}
{{define "scripts"}}
<script src="//cdn.rawgit.com/jquery/jquery/3.2.1/dist/jquery.slim.min.js"></script>
<script src="//cdn.rawgit.com/sparksuite/simplemde-markdown-editor/1.11.2/dist/simplemde.min.js"></script>
<script>
$(document).ready(function() {
  var simplemde = new SimpleMDE({
      element: $("#indput-body")[0],
      autofocus: true,
      autosave: {
          enabled: true,
          uniqueId: "notes", // TODO: Make this configurable?
          delay: 1000,
      },
      forceSync: true,
      indentWithTabs: false,
      promptURLs: true,
      tabSize: 4,
  });
});
</script>
{{end}}
